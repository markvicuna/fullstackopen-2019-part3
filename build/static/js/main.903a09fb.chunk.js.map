{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","onNameChange","nameValue","onNumberChange","numberValue","onSubmit","value","onChange","type","Filter","onFilterChange","filterValue","Persons","persons","filter","onRemovePerson","personsToShow","person","name","toLowerCase","includes","map","key","number","onClick","id","Notification","error","errorStyle","color","success","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setError","useEffect","personService","initialPersons","sendError","successStatus","setTimeout","event","target","preventDefault","personObject","some","window","confirm","find","p","changedPerson","returnedPerson","catch","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.903a09fb.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({ onNameChange, nameValue, onNumberChange, numberValue, onSubmit }) => {\n    return (\n      <form onSubmit={onSubmit}>\n        <div>\n          name:\n            <input value={nameValue} onChange={onNameChange} />\n        </div>\n        <div>\n          number:\n            <input value={numberValue} onChange={onNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\n  export default PersonForm","import React from 'react'\n\nconst Filter = ({ onFilterChange, filterValue }) => {\n    return (\n      <div>\n        filter shown with\n          <input value={filterValue} onChange={onFilterChange} />\n      </div>\n    )\n  }\n\n  export default Filter","import React from 'react'\n\nconst Persons = ({ persons, filter, onRemovePerson }) => {\n    const personsToShow = (filter === '')\n        ? persons\n        : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    const rows = () => personsToShow.map(person =>\n        <div key={person.name}>\n            <span>{person.name} {person.number} </span> \n            <button onClick={() => onRemovePerson(person.id)}>delete</button>\n        </div>\n    )\n\n    return (\n        <div>\n            {rows()}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ error }) => {\n    if (error === null) {\n        return null\n    }\n\n    const errorStyle = {\n        color: error.success ? 'green' : 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    return (\n        <div style={errorStyle}>\n            {error.message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request =  axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request =  axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const sendError = (message, successStatus) => {\n    setError({\n      message: message,\n      success: successStatus\n    })\n    setTimeout(() => {\n      setError(null)\n    }, 4000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(person => person.name === personObject.name)) {\n\n      if (window.confirm(`${personObject.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === personObject.name)\n        const changedPerson = { ...person, number: newNumber }\n\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== changedPerson.id ? p : returnedPerson))\n            sendError(`Changed ${changedPerson.name}'s phone number`, true)\n          })\n          .catch(error => {\n            sendError(`Information of ${changedPerson.name} has already been removed from the server`, false)\n          })\n      }\n\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          console.log(returnedPerson)\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          sendError(`Added ${returnedPerson.name}`, true)\n        })\n        .catch(error => {\n          sendError(error.response.data.error, false)\n        })\n    }\n  }\n\n  const removePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          sendError(`${person.name} has been successfully deleted.`, true)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification\n        error={error}\n      />\n\n      <Filter\n        filterValue={filter}\n        onFilterChange={handleFilterChange}\n      />\n\n      <h2>add a new</h2>\n\n      <PersonForm\n        onNameChange={handleNameChange}\n        nameValue={newName}\n        onNumberChange={handleNumberChange}\n        numberValue={newNumber}\n        onSubmit={addPerson}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons\n        persons={persons}\n        filter={filter}\n        onRemovePerson={removePerson}\n      />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}